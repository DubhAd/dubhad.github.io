---
layout: post
title: Securing Home Assistant
date: '2022-04-28T21:48:00.000+01:00'
author: Tinkerer
tags:
- security
modified_time: '2022-04-28T21:48:23.914+01:00'
---

<p>So, you're concerned about exposing Home Assistant to the Internet and want to secure it. There's a wide range of options to doing this, all of which are about your risk profile, but this covers the basics.</p><p>Home Assistant has some <a href="https://www.home-assistant.io/docs/configuration/securing/" target="_blank">short guidance</a> on the matter, which basically boils down to:</p><p></p><ul style="text-align: left;"><li>Use <a href="https://www.home-assistant.io/docs/configuration/secrets/" target="_blank">secrets</a></li><li>Keep the system up to date</li><li>Use SSL or a VPN for remote access</li></ul><h2 style="text-align: left;">What else can you do?</h2><h3 style="text-align: left;">Accounts</h3><div>To begin with, Home Assistant has a control for <i>Can only log in from the local network</i>. If you have accounts that don't need to log in remotely make sure you enable that.</div><div><br /></div><div>Then for all the other accounts <a href="https://www.home-assistant.io/docs/authentication/multi-factor-auth/#time-based-one-time-password-mfa-module" target="_blank">enable MFA</a>. TOTP based MFA has wide support, whether you're using <a href="https://support.google.com/accounts/answer/1066447" target="_blank">Google Authenticator</a>, <a href="https://authy.com/" target="_blank">Authy</a>, or even a password manager like <a href="https://bitwarden.com/" target="_blank">Bitwarden</a>. Whatever solution you use, make sure that you have a backup of your MFA code.</div><div><br /></div><div>Obviously you need to pick sane passwords too.</div><h3 style="text-align: left;">Use a reverse proxy</h3><div>If you use a reverse proxy server for remote access then it has a number of advantages:</div><div><ol style="text-align: left;"><li>You can easily use tools like <a href="https://www.fail2ban.org/wiki/index.php/Main_Page" target="_blank">Fail2Ban</a>&nbsp;and <a href="https://github.com/SpiderLabs/ModSecurity" target="_blank">ModSecurity</a>&nbsp;to filter incoming connections</li><li>You can limit access to only parts of the Home Assistant API - for instance you can block access to anything other than the webhook paths used by the mobile app</li><li>If you have other services you're exposing you now only have a single entry point</li></ol><div>You can also configure the proxy to handle SSL, instead of doing it in Home Assistant. This can be handy for things like TTS services, and also for LL-HLS support in the <a href="https://www.home-assistant.io/integrations/stream" target="_blank">stream integration</a>.</div><h2 style="text-align: left;">What else?</h2><div>There are some not-really-security things you can do to help yourself.</div><h3 style="text-align: left;">Don't be obvious</h3></div><div style="text-align: left;">Sure, port 443 is handy. Using it means you don't need to worry about remembering the port you're using. However, every scanner on the planet goes looking for services there. If you pick a random port, something between (say), 10,000 and 65,535 then you'll be off the radar of many.</div><div style="text-align: left;"><br /></div><div style="text-align: left;">No, it's not security, but it makes it less likely somebody will find out you've got a security issue.</div><h3 style="text-align: left;">Backups</h3><div>These will be important when things have gone wrong. Hopefully that's not going to be recovering from being hacked.</div><p></p>